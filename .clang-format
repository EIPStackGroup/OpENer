---
# Based on the Google C++ Style Guide, with user-specific overrides
# derived from Uncrustify rules (e.g., alignment, block enforcement).
BasedOnStyle: Google

# --- 1. Indentation & Width ---

# Uncrustify: indent_columns=2
IndentWidth: 2

# Uncrustify: indent_with_tabs=0
UseTab: Never

# Uncrustify: code_width=80
ColumnLimit: 80

# Uncrustify: indent_switch_case=2 (Enforce indentation for case labels)
IndentCaseLabels: true

# --- 2. Spacing & Pointers ---

# Uncrustify: sp_func_def_paren=remove
SpaceBeforeParens: Never

# Uncrustify: sp_arith=add, sp_assign=add, sp_enum_assign=add
SpaceBeforeAssignment: true
SpaceBeforeBinaryOperators: All

# Pointer Alignment: Google default is 'Left', matching the typical style
# (int* foo). We keep this unless explicitly overridden by Uncrustify.
PointerAlignment: Left

# --- 3. Alignment (Key Overrides) ---

# Uncrustify: indent_align_assign=true (Aligning consecutive assignment operators)
AlignConsecutiveAssignments: true

# Uncrustify: align_left_shift=true (Aligning binary operators like <<)
AlignOperands: Align

# --- 4. Newlines & Block Enforcement (Fix applied here) ---

# Uncrustify: nl_func_def_args=add (One argument per line)
BinPackArguments: false
BinPackParameters: false

# Uncrustify: mod_full_brace_if=add, mod_full_brace_for=add, mod_full_brace_while=add
# Goal: Do NOT allow short statements on a single line.

# Fix: Must use 'false' instead of 'Never' for these boolean options.
AllowShortBlocksOnASingleLine: false
AllowShortIfStatementsOnASingleLine: false
AllowShortCaseLabelsOnASingleLine: false

# Uncrustify: ls_func_split_full=true (Functions)
# 'Empty' means short functions can only be one line if their body is empty.
AllowShortFunctionsOnASingleLine: Empty

# Braces: Google default is 'Attach' (e.g., 'if (x) {'), matching
# Uncrustify's nl_class_brace=remove and nl_fdef_brace=remove intent.
BreakBeforeBraces: Attach

# --- 5. Miscellaneous ---

# Uncrustify: mod_remove_extra_semicolon=true
RemoveSemicolon: true

# Uncrustify: indent_class=true
IndentAccessModifiers: true

# Uncrustify: utf8_bom=remove
DisableFormat: false
...